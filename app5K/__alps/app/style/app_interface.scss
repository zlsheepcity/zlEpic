/*
    app interface components, 5002
    v2018.10.7
*/

/* ------------------------------------------------------ screen sizes */

$screenMaxSizeForMobile: 600px;
$screenMaxSizeForTablet: 900px;
$screenMaxSizeForXS: 1100px;
$screenMaxSizeForS: 1300px;
$screenMaxSizeForM: 1400px;
$screenMaxSizeForL: 1800px;

$screenForAll: "min-width: 0px";
$screenForXL: "min-width: #{$screenMaxSizeForL + 1}";
$screenForL: "max-width: #{$screenMaxSizeForL}";
$screenNotL: "min-width: #{$screenMaxSizeForL + 1}";
$screenForM: "max-width: #{$screenMaxSizeForM}";
$screenNotM: "min-width: #{$screenMaxSizeForM + 1}";
$screenForS: "max-width: #{$screenMaxSizeForS}";
$screenNotS: "min-width: #{$screenMaxSizeForS + 1}";
$screenForXS: "max-width: #{$screenMaxSizeForXS}";
$screenNotXS: "min-width: #{$screenMaxSizeForXS + 1}";
$screenForTablet: "max-width: #{$screenMaxSizeForTablet}";
$screenNotTablet: "min-width: #{$screenMaxSizeForTablet + 1}";
$screenForMobile: "max-width: #{$screenMaxSizeForMobile}";
$screenNotMobile: "min-width: #{$screenMaxSizeForMobile + 1}";

$margin-def: 2.4rem;

$grid_for_content--columns:
    unquote(" [full-start] ")
        minmax( 0, 1fr )
    unquote(" [overmain-start] ")
        $margin-def
    unquote(" [main-start] ")
        minmax( 0, 36em )
    unquote(" [main-end] ")
        $margin-def
    unquote(" [overmain-end] ")
        minmax( 0, 1fr )
    unquote(" [full-end] ")
        ;

$grid_layout_for_article--columns:
    unquote(" [full-start] ")
        minmax( 0, 1fr )
    unquote(" [overmain-start] ")
        $margin-def
    unquote(" [main-start] ")
        minmax( 0, 36em )
    unquote(" [main-end] ")
        $margin-def
    unquote(" [overmain-end] ")
        $margin-def
    unquote(" [aside-start] ")
        minmax( 0, 18em )
    unquote(" [aside-end] ")
        minmax( 0, 1fr )
    unquote(" [full-end] ")
        ;


/* ------------------------------------ grid */

%grid_for_content {
    display: grid;
    grid-gap: $margin-def 0;
    grid-auto-rows: min-content;
    grid-template-columns: $grid_for_content--columns;
    &>* {
        @supports (grid-gap:1rem) {
            margin-top: 0;
            margin-bottom: 0;
        }
        grid-column: main;
    }
    &>[block], &>.block,
    &>[illustration], &>.illustration {
        grid-column: overmain;
    }
    &>[layer], &>.layer {
        grid-column: full;
    }

}
%grid_layout_for_article {
    @extend %grid_for_content;
    grid-template-columns: $grid_layout_for_article--columns;
    &>[role-content], &>.role-content {
        grid-column: overmain;
    }
    &>aside, &>[aside], &>.aside {
        grid-column: aside;
        @extend %grid_for_content;
    }
    @media ($screenForTablet) {
        grid-template-columns: $grid_for_content--columns;
        &>aside {
            grid-column: full;
        }
    }

}
[role-content], .role-content {
    @extend %grid_for_content;
    &>[role-content], &>.role-content {
        //grid-column: full;
    }
}
[article-layout], .article-layout {
    @extend %grid_layout_for_article;
    &>aside {
        &>*{
            font-size:0.8em;
        }
        @media ($screenForTablet) {
            background-color: pink;
        }
    }

}

[block], .block {
    @extend %grid_for_content;
}
    /* illustration */

    [illustration], .illustration {
        //margin-top: $margin-def;
        //margin-bottom: $margin-def;
        figcaption {
            padding-left: $margin-def;
            padding-right: $margin-def;
        }
        &[is-different], .is-different {
            background-color: rgba(0,0,0,0.1);
        }
    }

