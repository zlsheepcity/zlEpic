!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.$=t()}(this,function(){"use strict";var e,t,n="undefined"!=typeof window?window:{},i=function(e){for(var t=e.length,n=new Array(t),i=0;i<t;i++)n[i]=e[i];return n},r=function(e,t,n){var i=e.length;if(void 0!==i&&void 0===e.nodeType)for(var r=0;r<i;r++)t.call(n,e[r],r,e);else t.call(n,e,0,e);return e},o=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach(function(t){for(var n in t)e[n]=t[n]}),e},u=function(e){return e.filter(function(t,n){return e.indexOf(t)===n})},s=!1,c=/^\s*<(\w+|!)[^>]*>/,f=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,a=/^[.#]?[\w-]*$/,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=void 0;if(e){if(e instanceof DOMtastic)return e;"string"!=typeof e?n=e.nodeType||e===window?[e]:e:c.test(e)?n=v(e):(t="string"==typeof t?document.querySelector(t):t.length?t[0]:t,n=p(e,t))}else n=document.querySelectorAll(null);return m(n)},d=function(e){var t=[];return r(this,function(n){return r(p(e,n),function(e){-1===t.indexOf(e)&&t.push(e)})}),l(t)},h=(e="undefined"!=typeof Element?Element.prototype:n,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,function(e,n){return t.call(e,n)}),p=function(e,t){if(a.test(e)){if("#"===e[0]){var n=(t.getElementById?t:document).getElementById(e.slice(1));return n?[n]:[]}return"."===e[0]?t.getElementsByClassName(e.slice(1)):t.getElementsByTagName(e)}return t.querySelectorAll(e)},v=function(e){if(f.test(e))return[document.createElement(RegExp.$1)];var t=[],n=document.createElement("div"),i=n.childNodes;n.innerHTML=e;for(var r=0,o=i.length;r<o;r++)t.push(i[r]);return t},m=function(e){return s||(DOMtastic.prototype=l.fn,DOMtastic.prototype.constructor=DOMtastic,s=!0),new DOMtastic(e)},DOMtastic=function(e){for(var t=0,n=e.length;t<n;)this[t]=e[t++];this.length=n},y=Object.freeze({$:l,find:d,matches:h,DOMtastic:DOMtastic}),b=Array.prototype,g=b.every,E=function(e,t){return r(this,e,t)},N=E,C=b.indexOf,O=b.map,w=b.pop,T=b.push,j=b.reduce,A=b.reduceRight,L=b.shift,S=b.some,D=b.unshift,z=Object.freeze({every:g,filter:function(e,t){var n="function"==typeof e?e:function(t){return h(t,e)};return l(b.filter.call(this,n,t))},forEach:E,each:N,indexOf:C,map:O,pop:w,push:T,reduce:j,reduceRight:A,reverse:function(){return l(i(this).reverse())},shift:L,some:S,unshift:D});function _(e){var t=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),DOMtastic.call(this,l.apply(void 0,arguments))};return o(t.prototype,e),t}var M=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})},x=Object.freeze({css:function(e,t){var n=void 0,i=void 0,o=void 0;if("string"==typeof e){if(e=M(e),void 0===t){var u=this.nodeType?this:this[0];return u?function(e){return!isNaN(parseFloat(e))&&isFinite(e)}(o=u.style[e])?parseFloat(o):o:void 0}(n={})[e]=t}else for(i in n=e)o=n[i],delete n[i],n[M(i)]=o;return r(this,function(e){for(i in n)n[i]||0===n[i]?e.style[i]=n[i]:e.style.removeProperty(i.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())}),this}}),P=Array.prototype.forEach,H=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforeend",t);else if(t instanceof Node)this.appendChild(t);else{var n=t instanceof NodeList?i(t):t;P.call(n,this.appendChild.bind(this))}else B(this,e,t);return this},$=function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("beforebegin",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this);else{var n=t instanceof NodeList?i(t):t;P.call(n,e.bind(this))}else B(this,e,t);return this},I=function(e){return"string"==typeof e?e:e instanceof Node?e.cloneNode(!0):"length"in e?[].map.call(e,function(e){return e.cloneNode(!0)}):e},B=function(e,t,n){for(var i=e.length;i--;){var r=0===i?n:I(n);t.call(e[i],r)}},k=Object.freeze({append:H,prepend:function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterbegin",t);else if(t instanceof Node)this.insertBefore(t,this.firstChild);else{var n=t instanceof NodeList?i(t):t;P.call(n.reverse(),e.bind(this))}else B(this,e,t);return this},before:$,after:function e(t){if(this instanceof Node)if("string"==typeof t)this.insertAdjacentHTML("afterend",t);else if(t instanceof Node)this.parentNode.insertBefore(t,this.nextSibling);else{var n=t instanceof NodeList?i(t):t;P.call(n.reverse(),e.bind(this))}else B(this,e,t);return this},clone:function(){return l(I(this))},_clone:I,_each:B}),q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F=Object.freeze({attr:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n?n.getAttribute(e):void 0}return r(this,function(n){if("object"===(void 0===e?"undefined":q(e)))for(var i in e)n.setAttribute(i,e[i]);else n.setAttribute(e,t)})},removeAttr:function(e){return r(this,function(t){return t.removeAttribute(e)})}}),R=function(e,t){return r(this,function(n){return n.classList[e](t)})},U=Object.freeze({addClass:function(e){return e&&e.length&&r(e.split(" "),R.bind(this,"add")),this},removeClass:function(e){return e&&e.length&&r(e.split(" "),R.bind(this,"remove")),this},toggleClass:function(e,t){if(e&&e.length){var n="boolean"==typeof t?t?"add":"remove":"toggle";r(e.split(" "),R.bind(this,n))}return this},hasClass:function(e){return(this.nodeType?[this]:this).some(function(t){return t.classList.contains(e)})}}),K=function(e,t){return!(!e||!t||e===t)&&(e.contains?e.contains(t):!!e.compareDocumentPosition&&!(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_DISCONNECTED))},W=Object.freeze({contains:K}),Z="undefined"!=typeof document&&"dataset"in document.documentElement,G=Z?"dataset":"__DOMTASTIC_DATA__",J=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},Q=Object.freeze({data:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&G in n?n[G][J(e)]:void 0}return r(this,function(n){Z||(n[G]=n[G]||{}),n[G][J(e)]=t})},prop:function(e,t){if("string"==typeof e&&void 0===t){var n=this.nodeType?this:this[0];return n&&n?n[e]:void 0}return r(this,function(n){return n[e]=t})}}),V=Object.freeze({appendTo:function(e){var t="string"==typeof e?l(e):e;return H.call(t,this),this},empty:function(){return r(this,function(e){return e.innerHTML=""})},remove:function(){return r(this,function(e){e.parentNode&&e.parentNode.removeChild(e)})},replaceWith:function(){return $.apply(this,arguments).remove()},text:function(e){return void 0===e?this[0].textContent:r(this,function(t){return t.textContent=""+e})},val:function(e){return void 0===e?this.length>0?this[0].value:void 0:r(this,function(t){return t.value=e})}}),X=Object.freeze({html:function(e){if(void 0===e){var t=this.nodeType?this:this[0];return t?t.innerHTML:void 0}return r(this,function(t){return t.innerHTML=e})}}),Y=function(){var e=function(e,t){var n=[];return r(this,function(i){for(;i&&i!==t;){if(h(i,e)){n.push(i);break}i=i.parentElement}}),l(u(n))};return"undefined"!=typeof Element&&Element.prototype.closest?function(t,n){if(n)return e.call(this,t,n);var i=[];return r(this,function(e){var n=e.closest(t);n&&i.push(n)}),l(u(i))}:e}(),ee=Object.freeze({closest:Y}),te=function(e,t,n,i,o){var u=this;"function"==typeof t&&(n=t,t=null);var s=void 0,c=void 0,f=void 0;return e.split(" ").forEach(function(a){s=a.split("."),a=s[0]||null,c=s[1]||null,f=fe(n),r(u,function(r){if(t&&(f=pe.bind(r,t,f)),o){var u=f;f=function(o){ne.call(r,e,t,n,i),u.call(r,o)}}r.addEventListener(a,f,i||!1),se(r).push({eventName:a,handler:n,eventListener:f,selector:t,namespace:c})})},this),this},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1],n=this,i=arguments[2],o=arguments[3];"function"==typeof t&&(i=t,t=null);var u=void 0,s=void 0,c=void 0;return e.split(" ").forEach(function(e){return u=e.split("."),e=u[0]||null,s=u[1]||null,r(n,function(n){c=se(n),r(c.filter(function(n){return!(e&&n.eventName!==e||s&&n.namespace!==s||i&&n.handler!==i||t&&n.selector!==t)}),function(e){n.removeEventListener(e.eventName,e.eventListener,o||!1),c.splice(c.indexOf(e),1)}),e||s||t||i?0===c.length&&ce(n):ce(n)})},this),this},ie="__domtastic_event__",re=1,oe={},ue=[],se=function(e){e[ie]||(e[ie]=0===ue.length?++re:ue.pop());var t=e[ie];return oe[t]||(oe[t]=[])},ce=function(e){var t=e[ie];oe[t]&&(oe[t]=null,e[ie]=null,ue.push(t))},fe=function(e){return function(t){return e.call(this,he(t))}},ae={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"},le=function(){return!0},de=function(){return!1},he=function(e){if(!e.isDefaultPrevented||e.stopImmediatePropagation||e.stopPropagation){for(var t in ae)!function(t,n,i){e[t]=function(){return this[n]=le,i&&i.apply(this,arguments)},e[n]=de}(t,ae[t],e[t]);e._preventDefault&&e.preventDefault()}return e},pe=function(e,t,n){var i=n._target||n.target,r=Y.call([i],e,this)[0];r&&r!==this&&(r!==i&&n.isPropagationStopped&&n.isPropagationStopped()||t.call(r,n))},ve=te,me=ne,ye=Object.freeze({on:te,off:ne,one:function(e,t,n,i){return te.call(this,e,t,n,i,1)},getHandlers:se,clearHandlers:ce,proxyHandler:fe,delegateHandler:pe,bind:ve,unbind:me}),be=/^(mouse(down|up|over|out|enter|leave|move)|contextmenu|(dbl)?click)$/,ge=/^key(down|press|up)$/,Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.bubbles,o=void 0===i||i,u=n.cancelable,s=void 0===u||u,c=n.preventDefault,f=void 0!==c&&c,a=new(Ne(e))(e,{bubbles:o,cancelable:s,preventDefault:f,detail:t});return a._preventDefault=f,r(this,function(n){!o||je||Ce(n)?Te(n,a):Oe(n,e,{bubbles:o,cancelable:s,preventDefault:f,detail:t})})},Ne=function(e){return Ae?be.test(e)?MouseEvent:ge.test(e)?KeyboardEvent:CustomEvent:CustomEvent},Ce=function(e){return e===window||e===document||K(e.ownerDocument.documentElement,e)},Oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.bubbles=!1;var i=new CustomEvent(t,n);i._target=e;do{Te(e,i)}while(e=e.parentNode)},we=["blur","focus","select","submit"],Te=function(e,t){-1===we.indexOf(t.type)||"function"!=typeof e[t.type]||t._preventDefault||t.cancelable?e.dispatchEvent(t):e[t.type]()};!function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};e.prototype=n.CustomEvent&&n.CustomEvent.prototype,n.CustomEvent=e}();var je=function(){var e=!1,t=n.document;if(t){var i=t.createElement("div"),r=i.cloneNode();i.appendChild(r),i.addEventListener("e",function(){e=!0}),r.dispatchEvent(new CustomEvent("e",{bubbles:!0}))}return e}(),Ae=function(){try{new MouseEvent("click")}catch(e){return!1}return!0}(),Le=Object.freeze({trigger:Ee,triggerHandler:function(e,t){this[0]&&Ee.call(this[0],e,t,{bubbles:!1,preventDefault:!0})}}),Se=Object.freeze({ready:function(e){return/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",e,!1),this}}),De=n.$,ze=Object.freeze({noConflict:function(){return n.$=De,this}}),_e=function(e,t){return l([].slice.apply(this,arguments))},Me=Object.freeze({children:function(e){var t=[];return r(this,function(n){n.children&&r(n.children,function(n){(!e||e&&h(n,e))&&t.push(n)})}),l(t)},concat:function(e){var t=this;return r(l(e),function(e){-1===[].indexOf.call(t,e)&&[].push.call(t,e)}),this},contents:function(){var e=[];return r(this,function(t){return e.push.apply(e,i(t.childNodes))}),l(e)},eq:function(e){return _e.call(this,e,e+1)},first:function(){return _e.call(this,0,1)},get:function(e){return this[e]},parent:function(e){var t=[];return r(this,function(n){(!e||e&&h(n.parentNode,e))&&t.push(n.parentNode)}),l(t)},siblings:function(e){var t=[];return r(this,function(n){return r(n.parentNode.children,function(i){i!==n&&(!e||e&&h(i,e))&&t.push(i)})}),l(t)},slice:_e}),xe=Array.isArray,Pe=Object.freeze({isFunction:function(e){return"function"==typeof e},isArray:xe}),He={},$e={};return void 0!==y&&(($e=l).matches=h,He.find=d),o($e,W,ze,Pe),o(He,z,x,F,k,U,Q,V,X,ye,Le,Se,ee,Me),$e.fn=He,$e.version="0.15.9",$e.extend=o,$e.BaseClass=_($e.fn),$e});
//# sourceMappingURL=domtastic.min.js.map
